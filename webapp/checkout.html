<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bestellung erfolgreich!</title>
    <link rel="stylesheet" href="style.css">
    <script src="feedback.js"></script>
    <style>
        body.full-height-body {
    display: flex;
    align-items: flex-start; /* GEÄNDERT: Richtet die Karte oben aus */
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
}

.checkout-card {
    background-color: var(--card-background);
    border-radius: 16px;
    padding: 30px 40px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    max-width: 450px;
    width: 100%;
    margin-top: 5vh; /* Fügt einen kleinen Abstand nach oben hinzu */
    display: flex;
    flex-direction: column;
    align-items: center;
}
.checkout-card h2 {
    font-size: 1.8em;
    margin: 15px 0 10px;
}
.checkout-card p {
    color: var(--text-light);
    line-height: 1.6;
    margin-bottom: 30px;
}
.link-secondary {
    display: inline-block;
    margin-top: 20px;
    color: var(--text-light);
    text-decoration: underline;
    font-weight: 500;
    cursor: pointer;
    transition: color 0.2s;
}
.link-secondary:hover {
    color: var(--primary-color);
}

/* --- Checkmark-Animation --- */
.checkmark-wrapper {
    width: 80px;
    height: 80px;
    margin-bottom: 15px;
}
.checkmark {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    display: block;
    stroke-width: 4;
    stroke: #fff;
    stroke-miterlimit: 10;
    animation: scale 0.3s ease-in-out 0.9s both;
}
.checkmark-circle {
    stroke-dasharray: 166;
    stroke-dashoffset: 166;
    stroke-width: 3;
    stroke: var(--primary-color);
    fill: none;
    animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards,
               circle-fill 0.4s ease-in-out 0.4s forwards;
}
.checkmark-check {
    transform-origin: 50% 50%;
    stroke-dasharray: 48;
    stroke-dashoffset: 48;
    animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
}
@keyframes stroke {
    100% {
        stroke-dashoffset: 0;
    }
}
@keyframes scale {
    0%, 100% {
        transform: none;
    }
    50% {
        transform: scale3d(1.1, 1.1, 1);
    }
}
@keyframes circle-fill {
    from {
        fill: transparent;
    }
    to {
        fill: var(--primary-color);
    }
}

.button-group {
    width: 100%;
    margin-top: 20px;
}

.tip-box {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    background-color: #fffbeb;
    border-left: 4px solid var(--primary-color);
    border-radius: 8px;
    padding: 10px;
    margin: 20px 0 15px 0;
    width: 100%;
    box-sizing: border-box;

.tip-icon {
    flex-shrink: 0;
    color: var(--primary-color);
    width: 24px;
    height: 24px;
    margin-top: 2px;
}

.tip-text {
    margin: 0;
    font-size: 0.9em;
    color: var(--text-light);
    text-align: left;
}
.tip-text strong {
    color: var(--text-dark);
}}
</style>
</head>
<body class="full-height-body">
   <div class="container">
        <div class="checkout-card">
            <div class="checkmark-wrapper">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
            </div>
            <h2>Danke für deine Bestellung!</h2>
            <p>Deine Auswahl wurde zur Liste hinzugefügt. Du kannst den Status aller Bestellungen über den folgenden Link verfolgen.</p>
            
            <div class="tip-box">
                <div class="tip-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 40 40">
                    <path fill="#ffeea3" d="M14.5,29.833V28c0-1.914-1.168-3.76-2.52-5.897C10.349,19.525,8.5,16.603,8.5,13 C8.5,6.659,13.659,1.5,20,1.5S31.5,6.659,31.5,13c0,3.603-1.849,6.525-3.48,9.103C26.668,24.24,25.5,26.086,25.5,28v1.833H14.5z"></path><path fill="#ba9b48" d="M20,2c6.065,0,11,4.935,11,11c0,3.458-1.808,6.315-3.402,8.835C26.262,23.947,25,25.941,25,28v1.333 h-5h-5V28c0-2.059-1.262-4.053-2.598-6.165C10.808,19.315,9,16.458,9,13C9,6.935,13.935,2,20,2 M20,1C13.373,1,8,6.373,8,13 c0,6.667,6,10.958,6,15v2.333h6h6V28c0-4.042,6-8.333,6-15C32,6.373,26.627,1,20,1L20,1z"></path><path fill="#fff" d="M22.714,11.335c0.502,0,0.974,0.195,1.329,0.55c0.733,0.733,0.733,1.925,0,2.657l-1.75,1.75 L22,16.586V17v12h-4V17v-0.414l-0.293-0.293l-1.75-1.75c-0.733-0.733-0.733-1.925,0-2.657c0.355-0.355,0.827-0.55,1.329-0.55 c0.502,0,0.974,0.195,1.329,0.55l0.679,0.679L20,13.271l0.707-0.707l0.679-0.679C21.741,11.531,22.212,11.335,22.714,11.335 M22.714,10.335c-0.737,0-1.474,0.281-2.036,0.843L20,11.857l-0.679-0.679c-0.562-0.562-1.299-0.843-2.036-0.843 c-0.737,0-1.474,0.281-2.036,0.843c-1.124,1.124-1.124,2.947,0,4.071L17,17v13h6V17l1.75-1.75c1.124-1.124,1.124-2.947,0-4.071 C24.188,10.616,23.451,10.335,22.714,10.335L22.714,10.335z"></path><path fill="#8b75a1" d="M20 31A4 4 0 1 0 20 39A4 4 0 1 0 20 31Z"></path><path fill="#dcd5f2" d="M17,36.5c-1.378,0-2.5-1.122-2.5-2.5v-5.5h11V34c0,1.378-1.122,2.5-2.5,2.5H17z"></path><path fill="#8b75a1" d="M25,29v5c0,1.103-0.897,2-2,2h-6c-1.103,0-2-0.897-2-2v-5H25 M26,28H14v6c0,1.657,1.343,3,3,3h6 c1.657,0,3-1.343,3-3V28L26,28z"></path><path fill="#8b75a1" d="M19 34H25.488V35H19zM14.56 34H17V35H14.56zM19 32H26V33H19zM14 32H17V33H14zM19 30H26V31H19zM14 30H17V31H14z"></path>
                    </svg>
                </div>
                <p class="tip-text">
                    <strong>Tipp:</strong> Auf der Übersichtsseite kannst du deine eigene Bestellung später bearbeiten oder löschen.
                </p>
            </div>
            
            <div class="button-group">
                <a href="#" id="summaryLinkBtn" class="btn">Zur Bestellübersicht</a>
                <br>
                <a href="liste.html" id="backLink" class="link-secondary">Weitere Bestellung aufgeben</a>
            </div>
        </div>
    </div>

    <button class="feedback-btn" id="feedbackBtn" title="Feedback geben">
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAElklEQVR4nO2Za6gVVRTHf14jr1q+SrNbJnFFiupa9ACViOJGL0jKpE9aUYo9LCusKNMksIjKikp6kJR+ySA1isgESyjU3tHrQ6WVzzItblne6k6sy39gMedxZ8+cM6fg/GHgnNl7r7Vmz15r/dcaaKKJJopAP2ACcC3wLLAe+A7YC/yta6/urdec2UCH1jYcZwCPA9uAKOO1TTJOL9p428FLgfcSBn0PLAduADqBdmA40B84SL/bNWZzVgA/JGRsBi4p4i2dJmWx4j3AQ7qfRXk/rTUZPzu5m4BT62B/747eD/wlRTu1q6011DEQuBHYJR2ma7F01wQjgbck3Jz2YWAw9cMhwCPSFSk4mA25MAb4SgJ3AGdSHM7Sm49kw9FZBR0BfCNBnwBtFI824FPZ8DUwKst53SQB7yviNAojgA9ly8ZQv3xUC7cAo3MYMQD4CHiZfDgS2CqbzH9S4WygB+hWaMyDy11IPbkGybdbtpn/VEWLe40LyY+17kEeq4G8RZL1gWytiKkuS5uf5MFY4B/tYqSElzfvDHJ0yBhARcT5Yg75cY9krdAORjpqeTFXstZVyxl2/rqAQ3Mqa1GgMIXnANfptx21vBgK/C5by6aE2VIWEmHa5MSWKC/Ujs8Sd4qUh4xPDQP266jdAcwEpgHnAZOAk4DDA/SukXyTU4LnNWgPlAZXpKDod7n5y/uYaw9pD5UG8RteVm4wjlYTA8L0nwnGuhJ4CngQuC0RMIwpLACWAM9o7uduvQWDcSl1T3bJugS7NRhCAyaKg8XHyI5IWpzrqPtnAQ+BknQkplyCeHctGxPoJxu11gLFZSnWzHJh+VU5cAgGaK3ZXIL9GswS61udj1k0ubnK3KVu3qKMBVmrZPxRbnC7Bo3XZMV91c6u0KU5V+bQM7ra0YqTljlSVixIQUfW1iA5TpYM6xuU4GkN3pRDwQbJuFj/rRh6QYzVcgmKZpEiV1ZcLxnPlRu8xjlf1hK1W7X2MPW4fnXh1Y7uFOAUVyJkxSuScXW5wVEy4oCKmVBcJOHWhHvbPYAxhXfc/5fkpFFgyI0x3LGEirXS61JwJ+FYksjUO8WmY+41xzl6FMgiPG7R2jeogk7XrxpCGD52YXVZhfJ4rNssu17McHy3J/ywT4d9IlCJUY4vlbH7wgzVFfcG6ljs6FCf+adDftKT0qiiMEk+HEIume+I3Hgaj6Ncn/iBkIXmnKsdGTyWxmGk621tyMAFe9uicW/LduMEiscYR/Wt23hYVkFD1Hs1Qb8B0ykOncCPjubn6a/1YqBjtpEqvXpiqBhyj8sXmd9EOcysRp1rAMsR85TDIkXOu/WhqKZodz2vWqFFVaax5V/cWzeKcyJ1wlVSYtGsXKFjZHOVqLx9mjte1eNgHc8RuneBaMZK91HHP8D51BlvVmjBHOzaM1mub9U+skRcdxyjjHog4Xi24+/KoJ9Ui9snuteAL0RDutRQ26MQas77pN7wcRSMpYk+kh2V24F97iNMSAelIehwHY9b9e1kd6LeiKu//yz6u1ZP8tqsNun/AvNdVt+qxsFClatNNEFl/AslWJwqqgXIDAAAAABJRU5ErkJggg==" alt="Feedback Icon" style="width:24px; height:24px;">
</button>

<div class="modal-backdrop" id="feedbackModalBackdrop">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Feedback geben</h3>
            <button class="modal-close" id="feedbackModalCloseBtn">&times;</button>
        </div>
        <form id="feedbackForm">
            <div class="feedback-type">
                <label><input type="radio" name="feedbackType" value="Bug Report" checked> Bug Report</label>
                <label><input type="radio" name="feedbackType" value="Vorschlag"> Vorschlag</label>
            </div>
            <textarea id="feedbackMessage" placeholder="Dein Feedback..." required></textarea>
            <button type="submit" class="btn">Senden</button>
        </form>
    </div>
</div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const summaryLinkBtn = document.getElementById('summaryLinkBtn');
            const backLink = document.getElementById('backLink');

            const params = new URLSearchParams(window.location.search);
            const listId = params.get('id');

            if (listId) {
                const summaryUrl = `${window.location.origin}${window.location.pathname.replace('checkout.html', 'listen.html')}?id=${listId}`;
                
                summaryLinkBtn.href = summaryUrl;
                backLink.href = `liste.html?id=${listId}`;
            } else {
                summaryLinkBtn.textContent = "Fehler: Link konnte nicht erstellt werden";
                summaryLinkBtn.style.backgroundColor = "#999";
                summaryLinkBtn.style.pointerEvents = "none";
            }
        });
    </script>
</body>
</html>