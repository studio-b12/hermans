<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bestellung erfolgreich!</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body.full-height-body {
    display: flex;
    align-items: flex-start; /* GEÄNDERT: Richtet die Karte oben aus */
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
}

.checkout-card {
    background-color: var(--card-background);
    border-radius: 16px;
    padding: 30px 40px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    max-width: 450px;
    width: 100%;
    margin-top: 5vh; /* Fügt einen kleinen Abstand nach oben hinzu */
    display: flex;
    flex-direction: column;
    align-items: center;
}
.checkout-card h2 {
    font-size: 1.8em;
    margin: 15px 0 10px;
}
.checkout-card p {
    color: var(--text-light);
    line-height: 1.6;
    margin-bottom: 30px;
}
.link-secondary {
    display: inline-block;
    margin-top: 20px;
    color: var(--text-light);
    text-decoration: underline;
    font-weight: 500;
    cursor: pointer;
    transition: color 0.2s;
}
.link-secondary:hover {
    color: var(--primary-color);
}

/* --- Checkmark-Animation --- */
.checkmark-wrapper {
    width: 80px;
    height: 80px;
    margin-bottom: 15px;
}
.checkmark {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    display: block;
    stroke-width: 4;
    stroke: #fff;
    stroke-miterlimit: 10;
    animation: scale 0.3s ease-in-out 0.9s both;
}
.checkmark-circle {
    stroke-dasharray: 166;
    stroke-dashoffset: 166;
    stroke-width: 3;
    stroke: var(--primary-color);
    fill: none;
    animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards,
               circle-fill 0.4s ease-in-out 0.4s forwards;
}
.checkmark-check {
    transform-origin: 50% 50%;
    stroke-dasharray: 48;
    stroke-dashoffset: 48;
    animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
}
@keyframes stroke {
    100% {
        stroke-dashoffset: 0;
    }
}
@keyframes scale {
    0%, 100% {
        transform: none;
    }
    50% {
        transform: scale3d(1.1, 1.1, 1);
    }
}
@keyframes circle-fill {
    from {
        fill: transparent;
    }
    to {
        fill: var(--primary-color);
    }
}
    </style>
</head>
<body class="full-height-body">

    <div class="container">
        <div class="checkout-card">
            <div class="checkmark-wrapper">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
            </div>
            <h2>Danke für deine Bestellung!</h2>
            <p>Deine Auswahl wurde zur Liste hinzugefügt. Du kannst den Status aller Bestellungen über den folgenden Link verfolgen.</p>
            
            <a href="#" id="summaryLinkBtn" class="btn">Zur Bestellübersicht</a>
            <br>
            <a href="liste.html" id="backLink" class="link-secondary">Weitere Bestellung aufgeben</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const summaryLinkBtn = document.getElementById('summaryLinkBtn');
            const backLink = document.getElementById('backLink');

            const params = new URLSearchParams(window.location.search);
            const listId = params.get('id');

            if (listId) {
                const summaryUrl = `${window.location.origin}${window.location.pathname.replace('checkout.html', 'listen.html')}?id=${listId}`;
                
                summaryLinkBtn.href = summaryUrl;
                backLink.href = `liste.html?id=${listId}`;
            } else {
                summaryLinkBtn.textContent = "Fehler: Link konnte nicht erstellt werden";
                summaryLinkBtn.style.backgroundColor = "#999";
                summaryLinkBtn.style.pointerEvents = "none";
            }
        });
    </script>

</body>
</html>